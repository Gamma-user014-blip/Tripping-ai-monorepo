import type { NextApiRequest, NextApiResponse } from 'next'
import {
  TripResponse,
  SectionType,
  TransportMode,
  ActivityCategory,
} from '@shared/types'

const delay = (ms: number): Promise<void> => new Promise(resolve => setTimeout(resolve, ms))

const handler = async (req: NextApiRequest, res: NextApiResponse<TripResponse[]>): Promise<void> => {
  await delay(2000)

  const results: TripResponse[] = [
    {
      sections: [
        {
          type: SectionType.FLIGHT,
          data: {
            options: [
              {
                id: 'fl-1',
                outbound: {
                  origin: {
                    city: 'London',
                    country: 'UK',
                    airport_code: 'LHR',
                    latitude: 51.47,
                    longitude: -0.4543,
                  },
                  destination: {
                    city: 'Edinburgh',
                    country: 'UK',
                    airport_code: 'EDI',
                    latitude: 55.9533,
                    longitude: -3.1883,
                  },
                  departure_time: '2026-07-12T08:15:00',
                  arrival_time: '2026-07-12T09:40:00',
                  duration_minutes: 85,
                  stops: 0,
                  layovers: [],
                  airline: 'British Airways',
                  flight_number: 'BA1234',
                  aircraft: 'Airbus A320',
                  cabin_class: 'economy',
                  amenities: {
                    wifi: true,
                    meal: false,
                    entertainment: true,
                    power_outlet: true,
                    legroom_inches: 31,
                  },
                  luggage: {
                    checked_bags: 1,
                    checked_bag_weight_kg: 23,
                    carry_on_bags: 1,
                    carry_on_weight_kg: 7,
                    carry_on_dimensions_cm: '55x40x23',
                  },
                },
                total_price: { currency: 'USD', amount: 320 },
                price_per_person: { currency: 'USD', amount: 160 },
                scores: {
                  price_score: 0.8,
                  quality_score: 0.9,
                  convenience_score: 0.85,
                  preference_score: 0.75,
                },
                booking_url: 'https://example.com/book/fl-1',
                provider: 'British Airways',
                available: true,
              },
            ],
          },
        },
        {
          type: SectionType.STAY,
          data: {
            hotel_options: [
              {
                id: 'h1',
                name: 'Market Street Hotel',
                description: 'A modern boutique hotel near the Royal Mile',
                location: {
                  city: 'Edinburgh',
                  country: 'UK',
                  airport_code: '',
                  latitude: 55.9520,
                  longitude: -3.1910,
                },
                distance_to_center_km: 2.5,
                rating: 4.6,
                review_count: 1250,
                rating_category: 'Excellent',
                price_per_night: { currency: 'USD', amount: 180 },
                total_price: { currency: 'USD', amount: 180 },
                additional_fees: [],
                room: {
                  type: 'Cosy',
                  beds: 1,
                  bed_type: 'queen',
                  max_occupancy: 2,
                  size_sqm: 18,
                  features: ['City View', 'Work Desk'],
                },
                amenities: ['Boutique Rooms', 'Breakfast', 'City View', '24h Reception'],
                category: 'upscale',
                star_rating: 4,
                scores: {
                  price_score: 0.7,
                  quality_score: 0.9,
                  convenience_score: 0.85,
                  preference_score: 0.8,
                },
                booking_url: 'https://example.com/book/h1',
                provider: 'Booking.com',
                available: true,
              },
            ],
            activity_options: [
              {
                id: 'a1',
                name: 'Old Town Walking Tour',
                description: 'A guided walk through Edinburgh\'s Old Town and Royal Mile',
                category: ActivityCategory.TOUR,
                location: {
                  city: 'Edinburgh',
                  country: 'UK',
                  airport_code: '',
                  latitude: 55.9519,
                  longitude: -3.1907,
                },
                distance_from_query_km: 3.2,
                rating: 4.8,
                review_count: 5420,
                price_per_person: { currency: 'USD', amount: 45 },
                price_details: {
                  adult_price: { currency: 'USD', amount: 45 },
                  child_price: { currency: 'USD', amount: 25 },
                  senior_price: { currency: 'USD', amount: 35 },
                },
                duration_minutes: 180,
                available_times: [
                  { date: '2026-07-12', time: '09:00', available_spots: 20 },
                  { date: '2026-07-12', time: '14:00', available_spots: 15 },
                ],
                highlights: ['Royal Mile', 'Historic Closes', 'Local Stories'],
                included: ['Local guide', 'Walking tour'],
                excluded: ['Food and drinks'],
                min_participants: 1,
                max_participants: 25,
                difficulty_level: 'easy',
                hotel_pickup: false,
                meal_included: false,
                cancellation_policy: 'Free cancellation up to 24h before',
                scores: {
                  price_score: 0.8,
                  quality_score: 0.95,
                  convenience_score: 0.9,
                  preference_score: 0.85,
                },
                booking_url: 'https://example.com/book/a1',
                provider: 'GetYourGuide',
                available: true,
                image_urls: ['https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=600&h=400&fit=crop'],
              },
            ],
          },
        },
        {
          type: SectionType.TRANSFER,
          data: {
            options: [
              {
                id: 't1',
                mode: TransportMode.TRAIN,
                provider: 'LNER',
                origin: {
                  city: 'Edinburgh',
                  country: 'UK',
                  airport_code: '',
                  latitude: 55.9521,
                  longitude: -3.1893,
                },
                destination: {
                  city: 'York',
                  country: 'UK',
                  airport_code: '',
                  latitude: 53.9590,
                  longitude: -1.0873,
                },
                distance_km: 280,
                departure_time: '2026-07-13T10:00:00',
                arrival_time: '2026-07-13T12:00:00',
                duration_minutes: 120,
                total_price: { currency: 'USD', amount: 95 },
                price_per_person: { currency: 'USD', amount: 95 },
                details: {
                  transit: {
                    line: 'East Coast Main Line',
                    stops: 1,
                    transfer_points: [],
                    service_class: 'Standard',
                    wifi: true,
                    food_service: true,
                  },
                },
                scores: {
                  price_score: 0.75,
                  quality_score: 0.85,
                  convenience_score: 0.9,
                  preference_score: 0.8,
                },
                booking_url: 'https://example.com/book/t1',
                available: true,
              },
            ],
          },
        },
        {
          type: SectionType.STAY,
          data: {
            hotel_options: [
              {
                id: 'h2',
                name: 'The Grand, York',
                description: 'A luxurious 5-star hotel in a historic railway building',
                location: {
                  city: 'York',
                  country: 'UK',
                  airport_code: '',
                  latitude: 53.9590,
                  longitude: -1.0873,
                },
                distance_to_center_km: 0.5,
                rating: 4.7,
                review_count: 2100,
                rating_category: 'Excellent',
                price_per_night: { currency: 'USD', amount: 250 },
                total_price: { currency: 'USD', amount: 500 },
                additional_fees: [],
                room: {
                  type: 'Deluxe',
                  beds: 1,
                  bed_type: 'king',
                  max_occupancy: 2,
                  size_sqm: 32,
                  features: ['City View', 'Spa Access'],
                },
                amenities: ['Spa', 'Afternoon Tea', 'Central Location', 'Gym'],
                category: 'luxury',
                star_rating: 5,
                scores: {
                  price_score: 0.6,
                  quality_score: 0.95,
                  convenience_score: 0.9,
                  preference_score: 0.85,
                },
                booking_url: 'https://example.com/book/h2',
                provider: 'Booking.com',
                available: true,
              },
            ],
            activity_options: [
              {
                id: 'a2',
                name: 'York Minster Tour',
                description: 'Visit one of the largest Gothic cathedrals in Northern Europe',
                category: ActivityCategory.CULTURAL,
                location: {
                  city: 'York',
                  country: 'UK',
                  airport_code: '',
                  latitude: 53.9620,
                  longitude: -1.0820,
                },
                distance_from_query_km: 0.3,
                rating: 4.9,
                review_count: 3200,
                price_per_person: { currency: 'USD', amount: 20 },
                price_details: {
                  adult_price: { currency: 'USD', amount: 20 },
                  child_price: { currency: 'USD', amount: 10 },
                  senior_price: { currency: 'USD', amount: 15 },
                },
                duration_minutes: 120,
                available_times: [
                  { date: '2026-07-14', time: '10:00', available_spots: 30 },
                ],
                highlights: ['Gothic Architecture', 'Stained Glass', 'Tower Climb'],
                included: ['Entry ticket', 'Tower access'],
                excluded: ['Photography permit'],
                min_participants: 1,
                max_participants: 50,
                difficulty_level: 'moderate',
                hotel_pickup: false,
                meal_included: false,
                cancellation_policy: 'Free cancellation up to 24h before',
                scores: {
                  price_score: 0.9,
                  quality_score: 0.95,
                  convenience_score: 0.85,
                  preference_score: 0.9,
                },
                booking_url: 'https://example.com/book/a2',
                provider: 'Viator',
                available: true,
                image_urls: ['https://images.unsplash.com/photo-1558369178-6556d97855d0?w=600&h=400&fit=crop'],
              },
            ],
          },
        },
        {
          type: SectionType.TRANSFER,
          data: {
            options: [
              {
                id: 't2',
                mode: TransportMode.RENTAL_CAR,
                provider: 'Enterprise',
                origin: {
                  city: 'York',
                  country: 'UK',
                  airport_code: '',
                  latitude: 53.9590,
                  longitude: -1.0873,
                },
                destination: {
                  city: 'Keswick',
                  country: 'UK',
                  airport_code: '',
                  latitude: 54.6017,
                  longitude: -3.1390,
                },
                distance_km: 145,
                departure_time: '2026-07-15T09:00:00',
                arrival_time: '2026-07-15T12:00:00',
                duration_minutes: 180,
                total_price: { currency: 'USD', amount: 120 },
                price_per_person: { currency: 'USD', amount: 60 },
                details: {
                  rental_car: {
                    vehicle_class: 'compact',
                    vehicle_model: 'VW Golf',
                    seats: 5,
                    luggage: 2,
                    transmission: 'automatic',
                    air_conditioning: true,
                    unlimited_mileage: true,
                    included_features: ['GPS', 'Insurance'],
                    daily_rate: { currency: 'USD', amount: 60 },
                    insurance_cost: { currency: 'USD', amount: 15 },
                  },
                },
                scores: {
                  price_score: 0.7,
                  quality_score: 0.8,
                  convenience_score: 0.95,
                  preference_score: 0.85,
                },
                booking_url: 'https://example.com/book/t2',
                available: true,
              },
            ],
          },
        },
        {
          type: SectionType.STAY,
          data: {
            hotel_options: [
              {
                id: 'h3',
                name: 'Lodore Falls Hotel & Spa',
                description: 'Lakeside hotel with stunning views of Derwentwater',
                location: {
                  city: 'Keswick',
                  country: 'UK',
                  airport_code: '',
                  latitude: 54.6017,
                  longitude: -3.1390,
                },
                distance_to_center_km: 5,
                rating: 4.5,
                review_count: 890,
                rating_category: 'Very Good',
                price_per_night: { currency: 'USD', amount: 220 },
                total_price: { currency: 'USD', amount: 440 },
                additional_fees: [],
                room: {
                  type: 'Lake View',
                  beds: 1,
                  bed_type: 'king',
                  max_occupancy: 2,
                  size_sqm: 28,
                  features: ['Lake View', 'Balcony'],
                },
                amenities: ['Lake Views', 'Spa', 'Hiking Trails', 'Restaurant'],
                category: 'upscale',
                star_rating: 4,
                scores: {
                  price_score: 0.65,
                  quality_score: 0.9,
                  convenience_score: 0.7,
                  preference_score: 0.95,
                },
                booking_url: 'https://example.com/book/h3',
                provider: 'Hotels.com',
                available: true,
              },
            ],
            activity_options: [
              {
                id: 'a3',
                name: 'Lake District Hiking Tour',
                description: 'Guided hike through the beautiful Lake District fells',
                category: ActivityCategory.OUTDOOR,
                location: {
                  city: 'Keswick',
                  country: 'UK',
                  airport_code: '',
                  latitude: 54.5872,
                  longitude: -3.1003,
                },
                distance_from_query_km: 2,
                rating: 4.7,
                review_count: 420,
                price_per_person: { currency: 'USD', amount: 55 },
                price_details: {
                  adult_price: { currency: 'USD', amount: 55 },
                  child_price: { currency: 'USD', amount: 35 },
                  senior_price: { currency: 'USD', amount: 45 },
                },
                duration_minutes: 300,
                available_times: [
                  { date: '2026-07-16', time: '09:00', available_spots: 12 },
                ],
                highlights: ['Catbells Summit', 'Panoramic Views', 'Wildlife'],
                included: ['Guide', 'Packed lunch', 'Transport to trailhead'],
                excluded: ['Hiking gear'],
                min_participants: 4,
                max_participants: 12,
                difficulty_level: 'moderate',
                hotel_pickup: true,
                meal_included: true,
                cancellation_policy: 'Free cancellation up to 48h before',
                scores: {
                  price_score: 0.75,
                  quality_score: 0.9,
                  convenience_score: 0.8,
                  preference_score: 0.95,
                },
                booking_url: 'https://example.com/book/a3',
                provider: 'Local Tours',
                available: true,
                image_urls: ['https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=600&h=400&fit=crop'],
              },
            ],
          },
        },
        {
          type: SectionType.TRANSFER,
          data: {
            options: [
              {
                id: 't3',
                mode: TransportMode.TRAIN,
                provider: 'Avanti West Coast',
                origin: {
                  city: 'Keswick',
                  country: 'UK',
                  airport_code: '',
                  latitude: 54.6017,
                  longitude: -3.1390,
                },
                destination: {
                  city: 'Edinburgh',
                  country: 'UK',
                  airport_code: '',
                  latitude: 55.9533,
                  longitude: -3.1883,
                },
                distance_km: 160,
                departure_time: '2026-07-17T11:00:00',
                arrival_time: '2026-07-17T13:30:00',
                duration_minutes: 150,
                total_price: { currency: 'USD', amount: 85 },
                price_per_person: { currency: 'USD', amount: 85 },
                details: {
                  transit: {
                    line: 'West Coast Main Line',
                    stops: 2,
                    transfer_points: [],
                    service_class: 'Standard',
                    wifi: true,
                    food_service: true,
                  },
                },
                scores: {
                  price_score: 0.8,
                  quality_score: 0.85,
                  convenience_score: 0.85,
                  preference_score: 0.8,
                },
                booking_url: 'https://example.com/book/t3',
                available: true,
              },
            ],
          },
        },
        {
          type: SectionType.STAY,
          data: {
            hotel_options: [
              {
                id: 'h4',
                name: 'The Balmoral Hotel',
                description: 'Iconic 5-star hotel at the heart of Edinburgh',
                location: {
                  city: 'Edinburgh',
                  country: 'UK',
                  airport_code: '',
                  latitude: 55.9521,
                  longitude: -3.1893,
                },
                distance_to_center_km: 0.1,
                rating: 4.8,
                review_count: 3500,
                rating_category: 'Exceptional',
                price_per_night: { currency: 'USD', amount: 350 },
                total_price: { currency: 'USD', amount: 1050 },
                additional_fees: [],
                room: {
                  type: 'Castle View Suite',
                  beds: 1,
                  bed_type: 'king',
                  max_occupancy: 2,
                  size_sqm: 45,
                  features: ['Castle View', 'Living Area', 'Spa Access'],
                },
                amenities: ['Castle Views', 'Concierge', 'Breakfast', 'City Center'],
                category: 'luxury',
                star_rating: 5,
                scores: {
                  price_score: 0.5,
                  quality_score: 0.98,
                  convenience_score: 0.95,
                  preference_score: 0.9,
                },
                booking_url: 'https://example.com/book/h4',
                provider: 'Rocco Forte Hotels',
                available: true,
              },
            ],
            activity_options: [
              {
                id: 'a4',
                name: 'Edinburgh Castle Tour',
                description: 'Discover centuries of Scottish history at Edinburgh Castle',
                category: ActivityCategory.CULTURAL,
                location: {
                  city: 'Edinburgh',
                  country: 'UK',
                  airport_code: '',
                  latitude: 55.9486,
                  longitude: -3.1999,
                },
                distance_from_query_km: 0.5,
                rating: 4.8,
                review_count: 8900,
                price_per_person: { currency: 'USD', amount: 25 },
                price_details: {
                  adult_price: { currency: 'USD', amount: 25 },
                  child_price: { currency: 'USD', amount: 12 },
                  senior_price: { currency: 'USD', amount: 20 },
                },
                duration_minutes: 150,
                available_times: [
                  { date: '2026-07-18', time: '10:00', available_spots: 40 },
                  { date: '2026-07-19', time: '10:00', available_spots: 35 },
                ],
                highlights: ['Crown Jewels', 'One O\'Clock Gun', 'Panoramic Views'],
                included: ['Entry ticket', 'Audio guide'],
                excluded: ['Food and drinks'],
                min_participants: 1,
                max_participants: 100,
                difficulty_level: 'moderate',
                hotel_pickup: false,
                meal_included: false,
                cancellation_policy: 'Free cancellation up to 24h before',
                scores: {
                  price_score: 0.85,
                  quality_score: 0.95,
                  convenience_score: 0.9,
                  preference_score: 0.9,
                },
                booking_url: 'https://example.com/book/a4',
                provider: 'Historic Scotland',
                available: true,
                image_urls: ['https://images.unsplash.com/photo-1486299267070-83823f5448dd?w=600&h=400&fit=crop'],
              },
            ],
          },
        },
        {
          type: SectionType.FLIGHT,
          data: {
            options: [
              {
                id: 'fl-2',
                outbound: {
                  origin: {
                    city: 'Edinburgh',
                    country: 'UK',
                    airport_code: 'EDI',
                    latitude: 55.9533,
                    longitude: -3.1883,
                  },
                  destination: {
                    city: 'London',
                    country: 'UK',
                    airport_code: 'LHR',
                    latitude: 51.47,
                    longitude: -0.4543,
                  },
                  departure_time: '2026-07-20T18:10:00',
                  arrival_time: '2026-07-20T19:35:00',
                  duration_minutes: 85,
                  stops: 0,
                  layovers: [],
                  airline: 'British Airways',
                  flight_number: 'BA5678',
                  aircraft: 'Airbus A320',
                  cabin_class: 'economy',
                  amenities: {
                    wifi: true,
                    meal: false,
                    entertainment: true,
                    power_outlet: true,
                    legroom_inches: 31,
                  },
                  luggage: {
                    checked_bags: 1,
                    checked_bag_weight_kg: 23,
                    carry_on_bags: 1,
                    carry_on_weight_kg: 7,
                    carry_on_dimensions_cm: '55x40x23',
                  },
                },
                total_price: { currency: 'USD', amount: 280 },
                price_per_person: { currency: 'USD', amount: 140 },
                scores: {
                  price_score: 0.85,
                  quality_score: 0.9,
                  convenience_score: 0.8,
                  preference_score: 0.75,
                },
                booking_url: 'https://example.com/book/fl-2',
                provider: 'British Airways',
                available: true,
              },
            ],
          },
        },
      ],
    },
    {
      sections: [
        {
          type: SectionType.FLIGHT,
          data: {
            options: [
              {
                id: 'fl-3',
                outbound: {
                  origin: {
                    city: 'Madrid',
                    country: 'Spain',
                    airport_code: 'MAD',
                    latitude: 40.4168,
                    longitude: -3.7038,
                  },
                  destination: {
                    city: 'Barcelona',
                    country: 'Spain',
                    airport_code: 'BCN',
                    latitude: 41.3851,
                    longitude: 2.1734,
                  },
                  departure_time: '2026-08-05T10:30:00',
                  arrival_time: '2026-08-05T12:15:00',
                  duration_minutes: 105,
                  stops: 0,
                  layovers: [],
                  airline: 'Iberia',
                  flight_number: 'IB3456',
                  aircraft: 'Airbus A321',
                  cabin_class: 'economy',
                  amenities: {
                    wifi: false,
                    meal: true,
                    entertainment: false,
                    power_outlet: false,
                    legroom_inches: 30,
                  },
                  luggage: {
                    checked_bags: 1,
                    checked_bag_weight_kg: 23,
                    carry_on_bags: 1,
                    carry_on_weight_kg: 10,
                    carry_on_dimensions_cm: '56x45x25',
                  },
                },
                total_price: { currency: 'USD', amount: 180 },
                price_per_person: { currency: 'USD', amount: 90 },
                scores: {
                  price_score: 0.9,
                  quality_score: 0.75,
                  convenience_score: 0.8,
                  preference_score: 0.7,
                },
                booking_url: 'https://example.com/book/fl-3',
                provider: 'Iberia',
                available: true,
              },
            ],
          },
        },
        {
          type: SectionType.STAY,
          data: {
            hotel_options: [
              {
                id: 'h6',
                name: 'Hotel Arts Barcelona',
                description: 'Beachfront luxury hotel with stunning Mediterranean views',
                location: {
                  city: 'Barcelona',
                  country: 'Spain',
                  airport_code: '',
                  latitude: 41.3888,
                  longitude: 2.1964,
                },
                distance_to_center_km: 2,
                rating: 4.9,
                review_count: 4200,
                rating_category: 'Exceptional',
                price_per_night: { currency: 'USD', amount: 380 },
                total_price: { currency: 'USD', amount: 1900 },
                additional_fees: [],
                room: {
                  type: 'Sea View Deluxe',
                  beds: 1,
                  bed_type: 'king',
                  max_occupancy: 2,
                  size_sqm: 42,
                  features: ['Sea View', 'Balcony', 'Spa Access'],
                },
                amenities: ['Beach Front', 'Spa', 'Fine Dining', 'Pool'],
                category: 'luxury',
                star_rating: 5,
                scores: {
                  price_score: 0.45,
                  quality_score: 0.98,
                  convenience_score: 0.85,
                  preference_score: 0.95,
                },
                booking_url: 'https://example.com/book/h6',
                provider: 'The Ritz-Carlton',
                available: true,
              },
            ],
            activity_options: [
              {
                id: 'a6',
                name: 'Sagrada Familia Guided Tour',
                description: 'Skip-the-line tour of Gaudí\'s masterpiece',
                category: ActivityCategory.CULTURAL,
                location: {
                  city: 'Barcelona',
                  country: 'Spain',
                  airport_code: '',
                  latitude: 41.4036,
                  longitude: 2.1744,
                },
                distance_from_query_km: 2.5,
                rating: 4.9,
                review_count: 12500,
                price_per_person: { currency: 'USD', amount: 50 },
                price_details: {
                  adult_price: { currency: 'USD', amount: 50 },
                  child_price: { currency: 'USD', amount: 25 },
                  senior_price: { currency: 'USD', amount: 40 },
                },
                duration_minutes: 120,
                available_times: [
                  { date: '2026-08-09', time: '09:00', available_spots: 20 },
                  { date: '2026-08-09', time: '15:00', available_spots: 18 },
                ],
                highlights: ['Skip-the-line', 'Tower Access', 'Expert Guide'],
                included: ['Entry ticket', 'Tower access', 'Guided tour'],
                excluded: ['Transportation'],
                min_participants: 1,
                max_participants: 20,
                difficulty_level: 'moderate',
                hotel_pickup: false,
                meal_included: false,
                cancellation_policy: 'Free cancellation up to 24h before',
                scores: {
                  price_score: 0.75,
                  quality_score: 0.98,
                  convenience_score: 0.85,
                  preference_score: 0.95,
                },
                booking_url: 'https://example.com/book/a6',
                provider: 'Viator',
                available: true,
                image_urls: ['https://images.unsplash.com/photo-1583779457939-9f0a0e5d6b6a?w=600&h=400&fit=crop'],
              },
            ],
          },
        },
        {
          type: SectionType.TRANSFER,
          data: {
            options: [
              {
                id: 't4',
                mode: TransportMode.TRAIN,
                provider: 'Renfe AVE',
                origin: {
                  city: 'Barcelona',
                  country: 'Spain',
                  airport_code: '',
                  latitude: 41.3796,
                  longitude: 2.1403,
                },
                destination: {
                  city: 'Madrid',
                  country: 'Spain',
                  airport_code: '',
                  latitude: 40.4070,
                  longitude: -3.6920,
                },
                distance_km: 620,
                departure_time: '2026-08-10T08:00:00',
                arrival_time: '2026-08-10T10:30:00',
                duration_minutes: 150,
                total_price: { currency: 'USD', amount: 110 },
                price_per_person: { currency: 'USD', amount: 110 },
                details: {
                  transit: {
                    line: 'AVE High Speed',
                    stops: 0,
                    transfer_points: [],
                    service_class: 'Turista Plus',
                    wifi: true,
                    food_service: true,
                  },
                },
                scores: {
                  price_score: 0.7,
                  quality_score: 0.95,
                  convenience_score: 0.95,
                  preference_score: 0.9,
                },
                booking_url: 'https://example.com/book/t4',
                available: true,
              },
            ],
          },
        },
        {
          type: SectionType.STAY,
          data: {
            hotel_options: [
              {
                id: 'h5',
                name: 'Hotel Urban Madrid',
                description: 'Contemporary 5-star hotel with rooftop pool',
                location: {
                  city: 'Madrid',
                  country: 'Spain',
                  airport_code: '',
                  latitude: 40.4165,
                  longitude: -3.6945,
                },
                distance_to_center_km: 0.3,
                rating: 4.7,
                review_count: 1800,
                rating_category: 'Excellent',
                price_per_night: { currency: 'USD', amount: 280 },
                total_price: { currency: 'USD', amount: 560 },
                additional_fees: [],
                room: {
                  type: 'Superior',
                  beds: 1,
                  bed_type: 'king',
                  max_occupancy: 2,
                  size_sqm: 30,
                  features: ['City View', 'Minibar'],
                },
                amenities: ['Pool', 'Rooftop Bar', 'Breakfast', 'City Center'],
                category: 'luxury',
                star_rating: 5,
                scores: {
                  price_score: 0.6,
                  quality_score: 0.92,
                  convenience_score: 0.95,
                  preference_score: 0.85,
                },
                booking_url: 'https://example.com/book/h5',
                provider: 'Booking.com',
                available: true,
              },
            ],
            activity_options: [
              {
                id: 'a5',
                name: 'Prado Museum Tour',
                description: 'Skip-the-line guided tour of Spain\'s premier art museum',
                category: ActivityCategory.MUSEUM,
                location: {
                  city: 'Madrid',
                  country: 'Spain',
                  airport_code: '',
                  latitude: 40.4138,
                  longitude: -3.6921,
                },
                distance_from_query_km: 0.8,
                rating: 4.9,
                review_count: 6200,
                price_per_person: { currency: 'USD', amount: 55 },
                price_details: {
                  adult_price: { currency: 'USD', amount: 55 },
                  child_price: { currency: 'USD', amount: 30 },
                  senior_price: { currency: 'USD', amount: 45 },
                },
                duration_minutes: 180,
                available_times: [
                  { date: '2026-08-06', time: '10:00', available_spots: 15 },
                ],
                highlights: ['Velázquez', 'Goya', 'El Greco'],
                included: ['Skip-the-line entry', 'Expert guide', 'Headsets'],
                excluded: ['Transportation'],
                min_participants: 2,
                max_participants: 15,
                difficulty_level: 'easy',
                hotel_pickup: false,
                meal_included: false,
                cancellation_policy: 'Free cancellation up to 24h before',
                scores: {
                  price_score: 0.7,
                  quality_score: 0.98,
                  convenience_score: 0.9,
                  preference_score: 0.95,
                },
                booking_url: 'https://example.com/book/a5',
                provider: 'GetYourGuide',
                available: true,
                image_urls: ['https://images.unsplash.com/photo-1539037116277-4db20889f2d4?w=600&h=400&fit=crop'],
              },
            ],
          },
        },
      ],
    },
    {
      sections: [
        {
          type: SectionType.FLIGHT,
          data: {
            options: [
              {
                id: 'fl-5',
                outbound: {
                  origin: {
                    city: 'Rome',
                    country: 'Italy',
                    airport_code: 'FCO',
                    latitude: 41.8002,
                    longitude: 12.2388,
                  },
                  destination: {
                    city: 'Naples',
                    country: 'Italy',
                    airport_code: 'NAP',
                    latitude: 40.8860,
                    longitude: 14.2908,
                  },
                  departure_time: '2026-09-10T09:00:00',
                  arrival_time: '2026-09-10T10:20:00',
                  duration_minutes: 80,
                  stops: 0,
                  layovers: [],
                  airline: 'ITA Airways',
                  flight_number: 'AZ1234',
                  aircraft: 'Airbus A319',
                  cabin_class: 'economy',
                  amenities: {
                    wifi: false,
                    meal: false,
                    entertainment: false,
                    power_outlet: false,
                    legroom_inches: 30,
                  },
                  luggage: {
                    checked_bags: 1,
                    checked_bag_weight_kg: 23,
                    carry_on_bags: 1,
                    carry_on_weight_kg: 8,
                    carry_on_dimensions_cm: '55x35x25',
                  },
                },
                total_price: { currency: 'USD', amount: 120 },
                price_per_person: { currency: 'USD', amount: 60 },
                scores: {
                  price_score: 0.95,
                  quality_score: 0.7,
                  convenience_score: 0.85,
                  preference_score: 0.65,
                },
                booking_url: 'https://example.com/book/fl-5',
                provider: 'ITA Airways',
                available: true,
              },
            ],
          },
        },
        {
          type: SectionType.STAY,
          data: {
            hotel_options: [
              {
                id: 'h7',
                name: 'Grand Hotel Vesuvio',
                description: 'Elegant seaside hotel with views of the Bay of Naples',
                location: {
                  city: 'Naples',
                  country: 'Italy',
                  airport_code: '',
                  latitude: 40.8339,
                  longitude: 14.2474,
                },
                distance_to_center_km: 0.5,
                rating: 4.8,
                review_count: 2800,
                rating_category: 'Exceptional',
                price_per_night: { currency: 'USD', amount: 420 },
                total_price: { currency: 'USD', amount: 1260 },
                additional_fees: [],
                room: {
                  type: 'Terrace Suite',
                  beds: 1,
                  bed_type: 'king',
                  max_occupancy: 2,
                  size_sqm: 55,
                  features: ['Private Terrace', 'City View', 'Living Area'],
                },
                amenities: ['Michelin Restaurant', 'Spa', 'Terrace', 'Concierge'],
                category: 'luxury',
                star_rating: 5,
                scores: {
                  price_score: 0.4,
                  quality_score: 0.98,
                  convenience_score: 0.95,
                  preference_score: 0.92,
                },
                booking_url: 'https://example.com/book/h7',
                provider: 'Dorchester Collection',
                available: true,
              },
            ],
            activity_options: [
              {
                id: 'a7',
                name: 'Pompeii & Vesuvius Day Tour',
                description: 'Guided day trip from Naples to Pompeii and Mount Vesuvius',
                category: ActivityCategory.TOUR,
                location: {
                  city: 'Naples',
                  country: 'Italy',
                  airport_code: '',
                  latitude: 40.8518,
                  longitude: 14.2681,
                },
                distance_from_query_km: 1.5,
                rating: 4.9,
                review_count: 15000,
                price_per_person: { currency: 'USD', amount: 65 },
                price_details: {
                  adult_price: { currency: 'USD', amount: 65 },
                  child_price: { currency: 'USD', amount: 35 },
                  senior_price: { currency: 'USD', amount: 55 },
                },
                duration_minutes: 180,
                available_times: [
                  { date: '2026-09-11', time: '09:00', available_spots: 25 },
                ],
                highlights: ['Pompeii Ruins', 'Vesuvius Viewpoints', 'Local Guide'],
                included: ['Expert guide', 'Transportation', 'Headsets'],
                excluded: ['Food'],
                min_participants: 2,
                max_participants: 25,
                difficulty_level: 'moderate',
                hotel_pickup: false,
                meal_included: false,
                cancellation_policy: 'Free cancellation up to 24h before',
                scores: {
                  price_score: 0.7,
                  quality_score: 0.98,
                  convenience_score: 0.85,
                  preference_score: 0.95,
                },
                booking_url: 'https://example.com/book/a7',
                provider: 'Walks of Italy',
                available: true,
                image_urls: ['https://images.unsplash.com/photo-1552832230-c0197dd311b5?w=600&h=400&fit=crop'],
              },
            ],
          },
        },
        {
          type: SectionType.TRANSFER,
          data: {
            options: [
              {
                id: 't5',
                mode: TransportMode.PRIVATE_TRANSFER,
                provider: 'Amalfi Coast Transfers',
                origin: {
                  city: 'Naples',
                  country: 'Italy',
                  airport_code: '',
                  latitude: 40.8860,
                  longitude: 14.2908,
                },
                destination: {
                  city: 'Amalfi',
                  country: 'Italy',
                  airport_code: '',
                  latitude: 40.6340,
                  longitude: 14.6027,
                },
                distance_km: 280,
                departure_time: '2026-09-13T09:00:00',
                arrival_time: '2026-09-13T13:00:00',
                duration_minutes: 240,
                total_price: { currency: 'USD', amount: 350 },
                price_per_person: { currency: 'USD', amount: 175 },
                details: {
                  ride: {
                    vehicle_type: 'Mercedes V-Class',
                    seats: 6,
                    shared: false,
                    estimated_wait_minutes: 0,
                  },
                },
                scores: {
                  price_score: 0.5,
                  quality_score: 0.95,
                  convenience_score: 0.98,
                  preference_score: 0.9,
                },
                booking_url: 'https://example.com/book/t5',
                available: true,
              },
            ],
          },
        },
        {
          type: SectionType.STAY,
          data: {
            hotel_options: [
              {
                id: 'h8',
                name: 'Monastero Santa Rosa',
                description: 'Converted 17th-century monastery on cliffs above the sea',
                location: {
                  city: 'Amalfi',
                  country: 'Italy',
                  airport_code: '',
                  latitude: 40.6326,
                  longitude: 14.6019,
                },
                distance_to_center_km: 3,
                rating: 4.9,
                review_count: 650,
                rating_category: 'Exceptional',
                price_per_night: { currency: 'USD', amount: 550 },
                total_price: { currency: 'USD', amount: 2200 },
                additional_fees: [],
                room: {
                  type: 'Sea View Suite',
                  beds: 1,
                  bed_type: 'king',
                  max_occupancy: 2,
                  size_sqm: 65,
                  features: ['Sea View', 'Private Terrace', 'Spa Access'],
                },
                amenities: ['Cliffside Views', 'Infinity Pool', 'Private Beach', 'Spa'],
                category: 'luxury',
                star_rating: 5,
                scores: {
                  price_score: 0.3,
                  quality_score: 0.99,
                  convenience_score: 0.7,
                  preference_score: 0.98,
                },
                booking_url: 'https://example.com/book/h8',
                provider: 'Small Luxury Hotels',
                available: true,
              },
            ],
            activity_options: [
              {
                id: 'a8',
                name: 'Capri Boat Tour',
                description: 'Full-day private boat tour to Capri from Amalfi',
                category: ActivityCategory.WATER_SPORTS,
                location: {
                  city: 'Capri',
                  country: 'Italy',
                  airport_code: '',
                  latitude: 40.5509,
                  longitude: 14.2265,
                },
                distance_from_query_km: 25,
                rating: 4.9,
                review_count: 890,
                price_per_person: { currency: 'USD', amount: 180 },
                price_details: {
                  adult_price: { currency: 'USD', amount: 180 },
                  child_price: { currency: 'USD', amount: 120 },
                  senior_price: { currency: 'USD', amount: 160 },
                },
                duration_minutes: 480,
                available_times: [
                  { date: '2026-09-15', time: '09:00', available_spots: 8 },
                ],
                highlights: ['Blue Grotto', 'Swimming Stops', 'Lunch on Board'],
                included: ['Private boat', 'Captain', 'Lunch', 'Drinks'],
                excluded: ['Grotto entry fee'],
                min_participants: 2,
                max_participants: 8,
                difficulty_level: 'easy',
                hotel_pickup: true,
                meal_included: true,
                cancellation_policy: 'Free cancellation up to 48h before',
                scores: {
                  price_score: 0.5,
                  quality_score: 0.98,
                  convenience_score: 0.9,
                  preference_score: 0.98,
                },
                booking_url: 'https://example.com/book/a8',
                provider: 'Capri Boats',
                available: true,
                image_urls: ['https://images.unsplash.com/photo-1533104816931-20fa691ff6ca?w=600&h=400&fit=crop'],
              },
            ],
          },
        },
        {
          type: SectionType.TRANSFER,
          data: {
            options: [
              {
                id: 't6',
                mode: TransportMode.FERRY,
                provider: 'NLG Ferry',
                origin: {
                  city: 'Amalfi',
                  country: 'Italy',
                  airport_code: '',
                  latitude: 40.6326,
                  longitude: 14.6019,
                },
                destination: {
                  city: 'Naples',
                  country: 'Italy',
                  airport_code: '',
                  latitude: 40.8860,
                  longitude: 14.2908,
                },
                distance_km: 55,
                departure_time: '2026-09-17T10:00:00',
                arrival_time: '2026-09-17T11:45:00',
                duration_minutes: 105,
                total_price: { currency: 'USD', amount: 65 },
                price_per_person: { currency: 'USD', amount: 65 },
                details: {
                  transit: {
                    line: 'Amalfi Coast Ferry',
                    stops: 0,
                    transfer_points: [],
                    service_class: 'Standard',
                    wifi: false,
                    food_service: true,
                  },
                },
                scores: {
                  price_score: 0.85,
                  quality_score: 0.85,
                  convenience_score: 0.8,
                  preference_score: 0.9,
                },
                booking_url: 'https://example.com/book/t6',
                available: true,
              },
            ],
          },
        },
        {
          type: SectionType.FLIGHT,
          data: {
            options: [
              {
                id: 'fl-6',
                outbound: {
                  origin: {
                    city: 'Naples',
                    country: 'Italy',
                    airport_code: 'NAP',
                    latitude: 40.8860,
                    longitude: 14.2908,
                  },
                  destination: {
                    city: 'Rome',
                    country: 'Italy',
                    airport_code: 'FCO',
                    latitude: 41.8002,
                    longitude: 12.2388,
                  },
                  departure_time: '2026-09-17T16:45:00',
                  arrival_time: '2026-09-17T18:05:00',
                  duration_minutes: 80,
                  stops: 0,
                  layovers: [],
                  airline: 'ITA Airways',
                  flight_number: 'AZ5678',
                  aircraft: 'Airbus A319',
                  cabin_class: 'economy',
                  amenities: {
                    wifi: false,
                    meal: false,
                    entertainment: false,
                    power_outlet: false,
                    legroom_inches: 30,
                  },
                  luggage: {
                    checked_bags: 1,
                    checked_bag_weight_kg: 23,
                    carry_on_bags: 1,
                    carry_on_weight_kg: 8,
                    carry_on_dimensions_cm: '55x35x25',
                  },
                },
                total_price: { currency: 'USD', amount: 110 },
                price_per_person: { currency: 'USD', amount: 55 },
                scores: {
                  price_score: 0.95,
                  quality_score: 0.7,
                  convenience_score: 0.8,
                  preference_score: 0.65,
                },
                booking_url: 'https://example.com/book/fl-6',
                provider: 'ITA Airways',
                available: true,
              },
            ],
          },
        },
      ],
    },
  ]

  res.status(200).json(results)
}

export default handler
